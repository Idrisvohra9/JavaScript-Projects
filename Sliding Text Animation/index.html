<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Text Animation</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="animation-container">
      <div class="moving-text">
        <span>Unlock</span>
      </div>
      <div class="moving-text second">
        <span>A New Sense!</span>
      </div>
      <div class="moving-text third">
        <span>SenseSixPlus</span>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <script>
      // Array of text lines for each moving text element
      const textLines = [
        [
          "This is a large line of text 1",
          "Another example text 1",
          "Welcome to our website 1",
        ],
        [
          "This is a large line of text 2",
          "Another example text 2",
          "Welcome to our website 2",
        ],
        [
          "This is a large line of text 3",
          "Another example text 3",
          "Welcome to our website 3",
        ],
        // Add more arrays if you have more .moving-text elements
      ];

      // Function to update text content for a specific text element
      function updateText(textElement) {
        const currentIndex = parseInt(textElement.dataset.currentIndex || 0);
        const lines = textLines[textElement.dataset.textLinesIndex];
        const newIndex = (currentIndex + 1) % lines.length;
        textElement.textContent = lines[newIndex];
        textElement.dataset.currentIndex = newIndex;
      }

      // Function to check if the text has reached the end of the screen for a specific text element
      function checkTextPosition(textElement) {
        const containerWidth = textElement.parentElement.offsetWidth;
        const textWidth = textElement.offsetWidth;
        const textPosition = textElement.getBoundingClientRect().right;

        if (textPosition < containerWidth - textWidth) {
          // Text has reached the end of the screen, update text content
          updateText(textElement);
        }
      }
      $(document).ready(function () {
        console.log($(".moving-text"))
        $(".moving-text").each(function (index, element) {
          console.log(this)
          element = $(element);
          element.dataset.textLinesIndex = index; // Assign index to track textLines array

          // Call checkTextPosition function periodically to detect text position for each element
        //   setInterval(() => {
        //     checkTextPosition(element);
        //   }, 1000); // Check position every 100 milliseconds (adjust as needed)
        //   var $span = element.find("span");
          //   $span.each(function () {
          //     var $thisSpan = $(this);
          //     $thisSpan.html(
          //       $thisSpan.text().replace(/([^\x00-\x80]|\w)/g, "<span>$&</span>")
          //     );
          //   });
        });
      });
    </script>
  </body>
</html>
